<!DOCTYPE html>
<html> <!-- xmlget.html -->
  <head>
    <title>Example of Ajax and XML</title>
  </head>
  <body>
    <h1>Loading XML file contents into a DIV</h1>
    <div id='info'>This sentence will be replaced</div>
    <script src="ajax-lib.js"></script>
	<script>
	function getRSS(url){
      nocache = "&nocache=" + Math.random() * 1000000;
      //url = "rss.news.yahoo.com/rss/topstories";
      out = "<ul>";
      var request = new ajaxRequest();
      request.open("GET", "xmlget.php?url=" + url + nocache, true);
      request.onreadystatechange = handler;
      request.send(null);
      function handler ()
      {
        if ((this.readyState === 4) && (this.status === 200))
        {
          if (this.responseXML != null)
          {
            titles = this.responseXML.getElementsByTagName('title');
            for (j = 0 ; j < titles.length ; ++j)
            {
              out += '<li>' + titles[j].childNodes[0].nodeValue + '</li>';
            }
            document.getElementById('info').innerHTML = out + '</ul>';
          }
          else alert("Ajax error: No data received");
        }
      }
	  }
	  getRSS("rss.news.yahoo.com/rss/topstories");
	  getRSS("feeds.bbci.co.uk/news/rss.xml");
    </script>
  </body>
</html>